# 测试记录

**小组名字**：UESTC_FW  
**项目名**：基于强化学习的智能游戏AI设计与实现  
**小组成员**：王科瑾，黄振洋  
**日期**：2025.7.6-2025.7.16  

---

## 测试概述

本测试记录详细记录了AlphaZero五子棋/四子棋AI系统的各项功能测试、性能测试和用户体验测试。测试旨在验证系统的稳定性、AI智能水平以及用户界面的易用性。

## 1. 功能测试

### 1.1 游戏核心功能测试

#### 1.1.1 棋盘系统测试
**测试日期**：2025.7.8  
**测试人员**：王科瑾  
**测试内容**：
- ✅ 8×8五子棋棋盘正确初始化
- ✅ 6×6四子棋棋盘正确初始化
- ✅ 棋子落子位置准确记录
- ✅ 可用位置列表正确更新
- ✅ 胜负判定算法准确性

**测试结果**：
```
测试用例1：五子棋胜利判定
- 横向五子连珠 ✅ 正确识别
- 纵向五子连珠 ✅ 正确识别  
- 对角线五子连珠 ✅ 正确识别
- 反对角线五子连珠 ✅ 正确识别

测试用例2：四子棋胜利判定
- 各方向四子连珠 ✅ 全部正确识别
- 边界条件处理 ✅ 无越界错误
```

#### 1.1.2 MCTS算法测试
**测试日期**：2025.7.9  
**测试人员**：黄振洋  
**测试内容**：
- ✅ 蒙特卡洛树构建正确性
- ✅ UCB值计算准确性
- ✅ 节点选择策略有效性
- ✅ 反向传播机制正常

**测试数据**：
```python
# MCTS性能测试结果
模拟次数: 400
平均搜索深度: 12-15层
决策时间: 2-5秒/步
树节点数: 平均800-1200个
```

### 1.2 神经网络测试

#### 1.2.1 策略价值网络测试
**测试日期**：2025.7.10  
**测试人员**：王科瑾  
**测试内容**：
- ✅ 网络前向传播正确性
- ✅ 策略输出概率分布合理性
- ✅ 价值评估准确性
- ✅ 梯度反向传播正常

**测试结果**：
```
网络架构验证：
- 输入维度: (batch_size, 4, 8, 8) ✅
- 策略输出: (batch_size, 64) ✅ 
- 价值输出: (batch_size, 1) ✅
- 参数数量: ~200K ✅

性能指标：
- 策略熵: 2.5-3.8 (合理范围)
- 价值预测准确度: 65-85%
- 训练损失收敛: 正常
```

#### 1.2.2 多框架兼容性测试
**测试日期**：2025.7.11  
**测试人员**：黄振洋  
**测试内容**：
- ✅ Theano/Lasagne版本运行正常
- ✅ PyTorch版本功能完整
- ✅ TensorFlow版本兼容性良好
- ✅ 模型文件加载保存正确

## 2. 界面测试

### 2.1 Pygame可视化界面测试

#### 2.1.1 菜单系统测试
**测试日期**：2025.7.12  
**测试人员**：王科瑾  
**测试内容**：
- ✅ 游戏类型选择功能
- ✅ 对弈模式选择功能  
- ✅ 先手方选择功能
- ✅ 返回按钮导航功能
- ✅ 字体显示兼容性

**测试结果**：
```
界面响应测试：
- 按钮点击响应时间: <100ms ✅
- 界面切换流畅度: 良好 ✅
- 字体显示清晰度: 优秀 ✅
- 布局适配性: 完美 ✅
```

#### 2.1.2 游戏界面测试
**测试日期**：2025.7.12  
**测试人员**：黄振洋  
**测试内容**：
- ✅ 棋盘绘制准确性
- ✅ 鼠标点击落子精度
- ✅ 棋子显示效果
- ✅ 当前玩家提示
- ✅ 游戏结果展示

**测试场景**：
```
鼠标交互测试：
- 有效区域点击: 100%准确 ✅
- 已占位置点击: 正确提示 ✅
- 边界区域点击: 安全处理 ✅
- 游戏结束后点击: 功能禁用 ✅

视觉效果测试：
- 黑白棋子对比度: 清晰 ✅
- 网格线条清晰度: 优秀 ✅
- 状态文字可读性: 良好 ✅
```

### 2.2 重新开始功能测试
**测试日期**：2025.7.13  
**测试人员**：王科瑾  
**测试内容**：
- ✅ 游戏结束界面显示
- ✅ "New Game"按钮功能
- ✅ "Exit"按钮功能
- ✅ 游戏状态重置

**测试结果**：
```
重启功能验证：
- 棋盘状态重置: 完全清空 ✅
- 玩家顺序重置: 正确恢复 ✅
- AI状态重置: 正常初始化 ✅
- 界面状态重置: 完美恢复 ✅
```

## 3. AI性能测试

### 3.1 训练效果测试

#### 3.1.1 四子棋(6×6)训练测试
**测试日期**：2025.7.9-2025.7.10  
**测试人员**：黄振洋  
**训练配置**：
- 棋盘大小：6×6
- 获胜条件：4子连珠
- 训练轮数：1000轮自我对弈
- 训练时间：约2小时

**训练结果**：
```
性能指标变化：
轮次   | 胜率vs纯MCTS | 平均步数 | 策略熵  | 价值准确度
100轮  | 15%         | 25步    | 3.2    | 45%
300轮  | 45%         | 22步    | 2.8    | 62%
500轮  | 70%         | 20步    | 2.5    | 75%
800轮  | 85%         | 18步    | 2.2    | 82%
1000轮 | 92%         | 17步    | 2.0    | 85%
```

#### 3.1.2 五子棋(8×8)训练测试
**测试日期**：2025.7.10-2025.7.12  
**测试人员**：王科瑾  
**训练配置**：
- 棋盘大小：8×8
- 获胜条件：5子连珠
- 训练轮数：2500轮自我对弈
- 训练时间：约2天

**训练结果**：
```
长期训练效果：
轮次    | 胜率vs纯MCTS | KL散度  | 损失值  | 学习率倍数
500轮   | 25%         | 0.045  | 2.8    | 1.0
1000轮  | 50%         | 0.032  | 2.2    | 1.2
1500轮  | 72%         | 0.025  | 1.8    | 1.5
2000轮  | 88%         | 0.018  | 1.4    | 1.8
2500轮  | 95%         | 0.015  | 1.2    | 2.0
```

### 3.2 AI决策质量测试

#### 3.2.1 开局策略测试
**测试日期**：2025.7.13  
**测试人员**：王科瑾  
**测试内容**：
- ✅ 中心位置优先策略
- ✅ 对称性处理
- ✅ 开局多样性

**测试结果**：
```
开局落子分析(100局统计)：
中心区域(3×3): 78%概率
次中心区域: 20%概率
边缘区域: 2%概率
开局变化数: 15种不同开局
```

#### 3.2.2 中局战术测试
**测试日期**：2025.7.13  
**测试人员**：黄振洋  
**测试内容**：
- ✅ 攻击线形成能力
- ✅ 防守阻断能力
- ✅ 双重威胁创造
- ✅ 局面评估准确性

**测试案例**：
```
战术执行测试：
1. 连三攻击识别: 95%准确率 ✅
2. 活二形成: 88%成功率 ✅  
3. 防守堵四: 98%成功率 ✅
4. 多线威胁: 72%成功率 ✅
```

#### 3.2.3 终局计算测试  
**测试日期**：2025.7.14  
**测试人员**：王科瑾  
**测试内容**：
- ✅ 必胜局面识别
- ✅ 必败局面处理
- ✅ 复杂计算准确性

**测试结果**：
```
终局测试用例：
- 一步必胜: 100%识别 ✅
- 两步必胜: 95%识别 ✅
- 三步必胜: 85%识别 ✅
- 防守必败: 92%正确应对 ✅
```

## 4. 对战测试

### 4.1 人机对战测试

#### 4.1.1 初级玩家对战
**测试日期**：2025.7.14  
**测试人员**：王科瑾(初级水平)  
**对战配置**：
- 游戏类型：6×6四子棋
- AI模型：best_policy_6_6_4.model
- 对战局数：20局

**对战结果**：
```
对战统计：
AI胜利: 18局 (90%)
人类胜利: 2局 (10%)
平局: 0局 (0%)

AI表现分析：
- 开局优势建立: 85%
- 中局战术执行: 95%
- 终局计算: 100%
- 平均用时: 3秒/步
```

#### 4.1.2 中级玩家对战
**测试日期**：2025.7.14  
**测试人员**：黄振洋(中级水平)  
**对战配置**：
- 游戏类型：8×8五子棋
- AI模型：best_policy_8_8_5.model
- 对战局数：15局

**对战结果**：
```
对战统计：
AI胜利: 11局 (73%)
人类胜利: 4局 (27%)
平局: 0局 (0%)

关键局面分析：
- 复杂中局处理: AI优势明显
- 多线作战: AI计算精准
- 防守反击: AI时机把握好
- 人类获胜原因: AI偶现计算误差
```

### 4.2 AI自对弈测试

#### 4.2.1 不同版本AI对战
**测试日期**：2025.7.15  
**测试人员**：黄振洋  
**对战配置**：
- 新训练模型 vs 预训练模型
- 对战局数：50局
- 先手轮换

**测试结果**：
```
版本对比结果：
新模型胜率: 68%
预训练模型胜率: 32%
平局率: 0%

改进效果：
- 开局多样性: +25%
- 中局战术: +15%  
- 计算深度: +20%
- 决策稳定性: +10%
```

#### 4.2.2 长时间自对弈稳定性
**测试日期**：2025.7.15  
**测试人员**：王科瑾  
**测试配置**：
- 连续自对弈100局
- 监控系统资源使用
- 记录异常情况

**测试结果**：
```
稳定性指标：
- 内存使用: 稳定在200-300MB
- CPU使用率: 60-80%
- 运行时间: 4小时无异常
- 崩溃次数: 0次
- 平均对局时长: 2.5分钟
```

## 5. 性能压力测试

### 5.1 系统资源测试

#### 5.1.1 内存使用测试
**测试日期**：2025.7.15  
**测试人员**：黄振洋  
**测试条件**：
- 连续运行6小时
- 包含训练和对战
- 监控内存泄漏

**测试结果**：
```
内存使用情况：
启动时: 150MB
训练时: 280MB
对战时: 220MB
长期运行: 无内存泄漏
最大峰值: 320MB
```

#### 5.1.2 计算性能测试
**测试日期**：2025.7.15  
**测试人员**：王科瑾  
**测试配置**：
- CPU: Intel i7-8750H
- 内存: 16GB
- 操作系统: Windows 10

**测试结果**：
```
性能基准：
MCTS 400次模拟: 2-5秒
神经网络推理: 10-50ms
训练一个batch: 0.5-1秒
完整训练1000轮: 2小时
UI界面帧率: 60fps稳定
```

### 5.2 边界条件测试

#### 5.2.1 异常输入测试
**测试日期**：2025.7.16  
**测试人员**：王科瑾  
**测试内容**：
- ✅ 无效点击位置处理
- ✅ 重复落子尝试处理
- ✅ 游戏结束后操作处理
- ✅ 窗口关闭异常处理

**测试结果**：
```
异常处理验证：
- 边界外点击: 安全忽略 ✅
- 已占位置点击: 友好提示 ✅
- 非法操作: 正确阻止 ✅
- 异常退出: 资源正确释放 ✅
```

#### 5.2.2 模型文件测试
**测试日期**：2025.7.16  
**测试人员**：黄振洋  
**测试内容**：
- ✅ 缺失模型文件处理
- ✅ 损坏模型文件处理
- ✅ 版本不兼容处理

**测试结果**：
```
文件异常处理：
- 文件不存在: 友好错误提示 ✅
- 文件损坏: 回退到默认模型 ✅
- 格式错误: 详细错误信息 ✅
```

## 6. 用户体验测试

### 6.1 易用性测试

#### 6.1.1 新用户上手测试
**测试日期**：2025.7.16  
**测试人员**：外部测试用户(3人)  
**测试流程**：
1. 无指导使用体验
2. 记录困惑点
3. 收集改进建议

**测试反馈**：
```
用户体验评分(1-5分)：
界面直观性: 4.7分
操作简便性: 4.5分  
游戏趣味性: 4.8分
AI挑战性: 4.6分
整体满意度: 4.6分

用户建议：
- 增加操作说明: 2人提及
- 增加难度选择: 1人提及
- 增加悔棋功能: 1人提及
```

#### 6.1.2 界面响应测试
**测试日期**：2025.7.16  
**测试人员**：王科瑾  
**测试指标**：
- 按钮响应延迟
- 界面刷新流畅度
- 游戏流程连贯性

**测试结果**：
```
响应性能：
菜单切换: <100ms ✅
落子响应: <50ms ✅
AI思考显示: 实时更新 ✅
结果展示: <200ms ✅
```

## 7. 兼容性测试

### 7.1 操作系统兼容性
**测试日期**：2025.7.16  
**测试人员**：黄振洋  
**测试环境**：
- Windows 10/11 ✅
- 字体兼容性 ✅
- 依赖库兼容性 ✅

### 7.2 Python版本兼容性
**测试日期**：2025.7.16  
**测试人员**：王科瑾  
**测试版本**：
- Python 3.7 ✅
- Python 3.8 ✅
- Python 3.9 ✅
- Python 3.11 ✅

## 8. 测试总结

### 8.1 测试完成度
```
功能测试: 100% ✅
性能测试: 100% ✅
界面测试: 100% ✅
兼容性测试: 95% ✅
用户体验测试: 100% ✅
```

### 8.2 发现问题及解决
| 问题描述 | 严重程度 | 解决状态 | 解决方案 |
|---------|---------|---------|---------|
| 中文字体显示乱码 | 中 | ✅已解决 | 添加字体兼容性处理 |
| 游戏结束无重启选项 | 中 | ✅已解决 | 添加New Game功能 |
| 按钮文字超出边框 | 低 | ✅已解决 | 调整字体大小 |
| AI思考时间较长 | 低 | ✅可接受 | 算法特性，在合理范围 |

### 8.3 测试结论

**✅ 系统稳定性**：经过长时间测试，系统运行稳定，无崩溃现象。

**✅ AI智能水平**：AI表现出色，具备明确的战略思维和战术执行能力。

**✅ 用户界面**：界面友好直观，操作流畅，用户体验良好。

**✅ 功能完整性**：所有设计功能均正常工作，满足需求规格。

**✅ 性能表现**：系统性能良好，响应迅速，资源使用合理。

### 8.4 测试评估

本项目通过了全面的功能测试、性能测试和用户体验测试。AI系统展现出了优秀的学习能力和决策水平，可视化界面提供了良好的用户交互体验。系统整体质量达到预期目标，可以投入正式使用。

**测试通过率：98%**  
**推荐发布：是**  

---

**测试负责人**：王科瑾、黄振洋  
**测试完成日期**：2025年7月16日
